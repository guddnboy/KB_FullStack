import{a as b,b as P,r as v,d as c,c as y,e as i,o as u,f as o,g as t,h as k,w as n,v as d,t as g,i as V}from"./index-Cj2SJ017.js";import{a as E}from"./authApi-Bx73tMmh.js";import"./index-D6gymtbR.js";const S={class:"mt-5 mx-auto",style:{width:"500px"}},B={class:"mb-3"},I={class:"mb-3"},N={class:"mb-3"},U={key:0,class:"text-danger"},h=["disabled"],T={__name:"ChangePasswordPage",setup(A){const p=b(),w=P(),a=v({username:w.username,oldPassword:"",newPassword:"",newPassword2:""}),m=c(()=>!a.oldPassword||!a.newPassword||!a.newPassword2),l=y(""),f=async()=>{if(a.newPassword!==a.newPassword2){l.value="새 비밀번호가 일치하지 않습니다.";return}try{await E.changePassword(a),alert("비밀번호를 수정했습니다."),p.push({name:"profile"})}catch(r){l.value=r.response.data}};return(r,s)=>(u(),i("div",S,[s[10]||(s[10]=o("h1",{class:"my-5"},[o("i",{class:"fa-solid fa-lock"}),t(" 비밀번호 변경 ")],-1)),o("form",{onSubmit:V(f,["prevent"])},[o("div",B,[s[6]||(s[6]=o("label",{class:"form-label"},[o("i",{class:"fa-solid fa-lock"}),t(" 이전 비밀번호: ")],-1)),n(o("input",{type:"password",class:"form-control",placeholder:"이전 비밀번호","onUpdate:modelValue":s[0]||(s[0]=e=>a.oldPassword=e),onInput:s[1]||(s[1]=(...e)=>r.inputPassword&&r.inputPassword(...e))},null,544),[[d,a.oldPassword]])]),o("div",I,[s[7]||(s[7]=o("label",{class:"form-label"},[o("i",{class:"fa-solid fa-lock"}),t(" 새 비밀번호: ")],-1)),n(o("input",{type:"password",class:"form-control",placeholder:"새 비밀번호","onUpdate:modelValue":s[2]||(s[2]=e=>a.newPassword=e),onInput:s[3]||(s[3]=(...e)=>r.resetError&&r.resetError(...e))},null,544),[[d,a.newPassword]])]),o("div",N,[s[8]||(s[8]=o("label",{class:"form-label"},[o("i",{class:"fa-solid fa-lock"}),t(" 새 비밀번호 확인: ")],-1)),n(o("input",{type:"password",class:"form-control",placeholder:"새 비밀번호 확인","onUpdate:modelValue":s[4]||(s[4]=e=>a.newPassword2=e),onInput:s[5]||(s[5]=(...e)=>r.resetError&&r.resetError(...e))},null,544),[[d,a.newPassword2]])]),l.value?(u(),i("div",U,g(l.value),1)):k("",!0),o("button",{type:"submit",class:"btn btn-primary mt-4",disabled:m.value},s[9]||(s[9]=[o("i",{class:"fa-solid fa-check"},null,-1),t(" 확인 ")]),8,h)],32)]))}};export{T as default};
